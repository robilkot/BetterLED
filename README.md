# BetterLED
Проект контроллера светодиодной ленты SMD5050 с питанием от БП 12v на основе Arduino Nano/ESP32.

*В руки автора попал сломанный контроллер от двух метров RGB ленты и сама лента. Было решено в имеющийся корпус сделать более умную и функциональную начинку.*

## Функционал
- Дистанционное управление ИК пультом по протоколу NEC
- Регулировка общей яркости вне зависимости от режима работы
- Выбор заранее заданных цветов, а также функция поканальной настройки
- Режим радуги (быстрый и медленный)
- Возможность перепрошивки
- Режим светомузыки при работе с модулем микрофона*

\* - *Требует подключения дополнительного внешнего модуля*

## Подключение

- Плюс от БП 12В к пину Vin Arduino Nano (к понижающему преобразователю 5-3,3В в случае ESP32).
- Минус от БП 12В к пину GND Arduino Nano.
- Затворы N-канальных транзисторов (в данном случае - SI2302CDS-T1-GE3) красного, зеленого и синего каналов ленты - к пинам D5, D9, D6 Arduino Nano соответственно.
- Исток транзисторов - к минусу БП 12В (пину GND Arduino Nano)
- Сток транзисторов - к соответствующим цветным дорожкам RGB ленты SMD5050
- Анод ленты SMD5050 - к плюсу БП 12В (пину Vin Arduino Nano)
- Пин D ИК приёмника - к пину D3 Arduino Nano
- Плюс и минус ИК приёмника - к пинам 5V и GND Arduino Nano соответственно

Затворы транзисторов подтянуть к земле резисторами 10К, а к пинам микроконтроллера подключать через токоограничивающие резисторы 100R.

Дополнительно можно подключить модуль микрофона Max4466 (Потребуется также дописать #define MUSIC при компиляции проекта):
- Vcc и GND модуля - к пинам 3v3 и GND Arduino Nano соответственно
- Пин Arduino Nano 3v3 - к её же пину Aref для задания более стабильного опорного напряжения АЦП
- Пин Out модуля - к аналоговому входу A0 Arduino Nano

## Зависимости

Для работы используется расширение PlatformIO для Visual Studio Code.

В проекте используются функции библиотеки IRremote.
